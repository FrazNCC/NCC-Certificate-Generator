<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Certificate Generator - Sample Style</title>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&family=Montserrat:wght@700&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Montserrat', Arial, sans-serif; background: linear-gradient(135deg, #fff 0%, #e8eaef 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 1200px; margin: 0 auto; background: white; border-radius: 15px; box-shadow: 0 20px 60px rgba(0,0,0,0.1); overflow: hidden; }
        .header { background: #23335c; color: white; padding: 40px 30px 20px 30px; text-align: center; }
        .header h1 { font-size: 2.5em; margin-bottom: 6px; font-weight: 700; letter-spacing: 1px; }
        .nav-tabs { display: flex; background: #f8f9fa; border-bottom: 2px solid #dee2e6; }
        .nav-tab { flex: 1; padding: 20px; text-align: center; background: none; border: none; font-size: 1.1em; font-weight: 600; cursor: pointer; transition: all 0.3s ease; color: #495057; }
        .nav-tab:hover { background: #e9ecef; }
        .nav-tab.active { background: white; color: #23335c; border-bottom: 3px solid #bda054; margin-bottom: -2px; }
        .tab-content { padding: 40px; }
        .hidden { display: none !important; }
        .form-group { margin-bottom: 25px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 600; color: #333; }
        .form-group input, .form-group select { width: 100%; padding: 12px 15px; border: 2px solid #e0e0e0; border-radius: 8px; font-size: 1em; font-family: inherit; }
        .form-group input:focus, .form-group select:focus { outline: none; border-color: #23335c; box-shadow: 0 0 0 3px rgba(102,126,234,0.1); }
        .btn { padding: 12px 30px; border: none; border-radius: 8px; font-size: 1em; font-weight: 600; cursor: pointer; transition: all 0.3s ease; margin-right: 10px; margin-bottom: 10px; }
        .btn-primary {background: linear-gradient(135deg, #23335c 0%, #bda054 100%); color: white;}
        .btn-primary:hover {transform: translateY(-2px); box-shadow: 0 5px 15px rgba(102,126,234,0.2);}
        .btn-success {background: #28a745; color: white;}
        .btn-success:hover {background: #218838;}
        .btn:disabled {opacity: 0.5; cursor: not-allowed;}
        #previewSection {margin-top: 40px; padding: 30px; background: #f8f9fa; border-radius: 10px; text-align: center;}
        #certificateCanvas {max-width: 100%; height: auto; border: 2px solid #bda054; border-radius: 8px; margin: 20px 0; background: white;}
        .button-group {display: flex; gap: 10px; margin-top: 20px; flex-wrap: wrap;}
        @media (max-width: 768px) {.tab-content { padding: 20px; }.button-group {flex-direction: column;}.btn {width: 100%;}}
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>ðŸŽ“ Certificate Generator</h1>
        <p>Professional Certificate Generation - Sample Style</p>
    </div>
    <div class="nav-tabs">
        <button class="nav-tab active" data-tab="single">Single Certificate</button>
        <button class="nav-tab" data-tab="bulk">Bulk Certificates</button>
    </div>
    <div id="singleTab" class="tab-content">
        <h2 style="margin-bottom: 20px; color: #23335c;">Generate Single Certificate</h2>
        <form id="singleForm">
            <div class="form-group"><label for="studentName">Student Name</label><input type="text" id="studentName" required></div>
            <div class="form-group"><label for="courseName">Course Name</label><input type="text" id="courseName" required></div>
            <div class="form-group"><label for="lecturerName">Lecturer Name</label><input type="text" id="lecturerName" required></div>
            <div class="form-group"><label for="issueDate">Issue Date</label><input type="date" id="issueDate" required></div>
            <div class="form-group"><label for="certificateType">Certificate Type</label><select id="certificateType" required><option value="Achievement">Certificate of Achievement</option><option value="Completion">Certificate of Completion</option><option value="Excellence">Certificate of Excellence</option></select></div>
            <div class="button-group"><button type="submit" class="btn btn-primary">Preview Certificate</button></div>
        </form>
        <div id="previewSection" class="hidden">
            <h3>Certificate Preview</h3>
            <canvas id="certificateCanvas"></canvas>
            <div class="button-group"><button id="generatePdfBtn" class="btn btn-success">Generate PDF</button></div>
        </div>
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
<script>
// Google Fonts loaded in HEAD
let logoImage = null;
function loadLogo() { logoImage = new Image(); logoImage.src = 'logo-1.png'; logoImage.crossOrigin = "Anonymous"; }
window.addEventListener('DOMContentLoaded', function(){loadLogo();setDefaultDate();setupEventListeners();});
function setDefaultDate() { document.getElementById('issueDate').value = new Date().toISOString().split('T')[0]; }
function setupEventListeners() {
    document.querySelectorAll('.nav-tab').forEach(tab => {
        tab.addEventListener('click', e => {
            document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
            e.target.classList.add('active');
            document.getElementById('singleTab').classList.add('hidden');
            if (e.target.dataset.tab === 'single') document.getElementById('singleTab').classList.remove('hidden');
            else document.getElementById('bulkTab').classList.remove('hidden');
        });
    });
    document.getElementById('singleForm').addEventListener('submit', handlePreview);
    document.getElementById('generatePdfBtn').addEventListener('click', generateSinglePdf);
}
function handlePreview(e) {
    e.preventDefault();
    const data = {
        studentName: document.getElementById('studentName').value,
        courseName: document.getElementById('courseName').value,
        lecturerName: document.getElementById('lecturerName').value,
        issueDate: document.getElementById('issueDate').value,
        certificateType: document.getElementById('certificateType').value
    };
    drawCertificate(data); document.getElementById('previewSection').classList.remove('hidden');
    document.getElementById('generatePdfBtn').disabled = false;
}
function generateSinglePdf() {
    const canvas = document.getElementById('certificateCanvas');
    const imgData = canvas.toDataURL('image/png');
    const { jsPDF } = window.jspdf;
    const pdf = new jsPDF({ orientation: 'landscape', unit: 'mm', format: 'a4' });
    pdf.addImage(imgData, 'PNG', 0, 0, 297, 210);
    const studentName = document.getElementById('studentName').value;
    const courseName = document.getElementById('courseName').value;
    const filename = (courseName + '_' + studentName).replace(/[^a-z0-9]/gi, '_').toLowerCase() + '.pdf';
    pdf.save(filename);
}
function drawCertificate(data) {
    const canvas = document.getElementById('certificateCanvas');
    canvas.width = 1122 * 3; canvas.height = 794 * 3; const scale = 3;
    const ctx = canvas.getContext('2d'); ctx.scale(scale, scale);
    // Outer border
    ctx.strokeStyle = '#23335c'; ctx.lineWidth = 3; ctx.strokeRect(10,10,1102,774);
    ctx.strokeStyle = '#bda054'; ctx.lineWidth = 1; ctx.strokeRect(20,20,1082,754);
    // Background
    ctx.fillStyle = '#fdfcf8'; ctx.fillRect(22,22,1078,750);
    // Logo at top
    if (logoImage && logoImage.complete) { try {
        const logoMaxWidth = 300; const logoMaxHeight = 200;
        const ar = logoImage.width/logoImage.height;
        let width = logoMaxWidth, height = logoMaxHeight;
        if (ar > 1) height = width / ar; else width = height * ar;
        ctx.drawImage(logoImage, 561-width/2, 48, width, height);
    } catch(e){} }
    // Main Title
    //
    //
    ctx.textAlign = 'center';
    ctx.fillStyle = '#bda054';
    ctx.font = '700 32px Merriweather, serif';
    ctx.fillText(data.certificateType ? ('CERTIFICATE OF ' + data.certificateType.toUpperCase()) : 'CERTIFICATE', 561, 200);
    // Subtitle
    ctx.font = '400 20px Merriweather, serif'; ctx.fillStyle = '#23335c';
    ctx.fillText('This certificate is proudly presented to', 561, 250);
    // Name - large script
    ctx.font = '700 54px "Dancing Script", cursive'; ctx.fillStyle = '#23335c';
    ctx.fillText(data.studentName || 'Student Name', 561, 300);
    // Helper text
    ctx.font = '400 19px Merriweather, serif'; ctx.fillStyle = '#23335c';
    ctx.fillText('for successfully demonstrating proficiency and completing all the requirements of the course', 561, 350);
    // Course - gold
    ctx.font = 'italic 28px Merriweather, serif'; ctx.fillStyle = '#bda054';
    ctx.fillText(data.courseName || 'Course Title', 561, 400);
    // Bottom: TUTOR left, ID/seal center, date right
    // Tutor (name bold blue)
    ctx.font = 'bold 17px Merriweather, serif'; ctx.fillStyle = '#23335c'; ctx.textAlign = 'left';
    ctx.fillText(data.lecturerName || 'Dr. John Smith', 80, 670);
    ctx.font = '800 11px Merriweather, serif'; ctx.fillStyle = '#a2a3ad';
    ctx.fillText('TUTOR / LECTURER', 80, 695);
    // NCC SEAL at BOTTOM/CENTER
    drawNCCSeal(ctx, 561, 690, 56);
    ctx.textAlign = 'center'; ctx.font = 'normal 10px Merriweather, serif'; ctx.fillStyle = '#a2a3ad';
       // Date (blue bold)
    ctx.textAlign = 'right'; ctx.font = 'bold 17px Merriweather, serif'; ctx.fillStyle = '#23335c';
    ctx.fillText(data.issueDate || '2025-11-16', 1045, 670);
    ctx.font = '800 11px Merriweather, serif'; ctx.fillStyle = '#a2a3ad'; ctx.fillText('DATE OF ISSUE', 1045, 695);
}
function drawNCCSeal(ctx, cx, cy, r) {
    // Gold starburst
    ctx.save();
    ctx.translate(cx,cy);
    ctx.beginPath();
    for(let i=0;i<18;i++){
      let angle = (i/18)*Math.PI*2; let r1 = r*1.1, r2 = r*0.68;
      ctx.lineTo(Math.cos(angle)*(i%2?r1:r2), Math.sin(angle)*(i%2?r1:r2));
    }
    ctx.closePath();
    ctx.fillStyle='#bfa544';ctx.shadowColor='#44381e';ctx.shadowBlur=4;ctx.fill();
    ctx.shadowBlur=0;
    // Circle inner
    ctx.beginPath();ctx.arc(0,0,r*0.78,0,2*Math.PI);
    ctx.fillStyle='#ffe690';ctx.fill();ctx.strokeStyle='#bfa544';ctx.lineWidth=2;ctx.stroke();
    // NCC on top, font
    ctx.font='700 32px Montserrat, Arial, sans-serif';ctx.fillStyle='#23335c';ctx.textAlign='center';ctx.fillText('NCC',0,13);
    ctx.restore();
}
function drawDecorativeCorners(ctx) {
    const cornerSize = 38, offset = 14;
    ctx.strokeStyle='#bda054'; ctx.lineWidth=1.2;
    ctx.beginPath(); ctx.moveTo(offset+cornerSize,offset); ctx.lineTo(offset,offset); ctx.lineTo(offset,offset+cornerSize); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(1122-offset-cornerSize,offset); ctx.lineTo(1122-offset,offset); ctx.lineTo(1122-offset,offset+cornerSize); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(offset,794-offset-cornerSize); ctx.lineTo(offset,794-offset); ctx.lineTo(offset+cornerSize,794-offset); ctx.stroke();
    ctx.beginPath(); ctx.moveTo(1122-offset,794-offset-cornerSize); ctx.lineTo(1122-offset,794-offset); ctx.lineTo(1122-offset-cornerSize,794-offset); ctx.stroke();
}
</script>
</body></html>
